<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
	<title>MetaChess</title>
	<link rel="stylesheet" href="lib/chessboard.css">
	<link rel="icon" href="favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="css/base.css">
	<link rel="stylesheet" href="css/layout.css">
	<link rel="stylesheet" href="css/cards.css">
	<link rel="stylesheet" href="css/modals.css">
	<link rel="stylesheet" href="css/mobile.css">
</head>

<body>
	<div class="container">
		<div id="status-frame">
			<div id="status-message">Ready</div>
		</div>
		<div id="board-container">
			<div class="opponent-info">
				<div class="deck-info">
					<span class="deck-count">Deck: <span id="opponent-deck-count">60</span></span>
				</div>
				<div class="timer black-timer">
					<span id="black-time">3:00</span>
				</div>
				<div class="spacer"></div> <!-- Empty div to maintain spacing where button would be -->
			</div>
			<div id="chessboard"></div>
			<div class="player-info">
				<div class="deck-info">
					<span class="deck-count">Deck: <span id="player-deck-count">60</span></span>
				</div>
				<div class="timer white-timer">
					<span id="white-time">3:00</span>
				</div>
				<button id="pass-turn" class="pass-button">Pass</button>
			</div>
			<button id="menu-button" class="menu-button">Menu</button>
			<div id="game-options-modal" class="modal">
				<div class="modal-content small-modal">
					<div class="modal-header">
						<h3>Game Options</h3>
						<span class="close-modal">&times;</span>
					</div>
					<div class="modal-body">
						<button id="multiplayer-btn" class="multiplayer-button">Versus</button>
						<button id="concede-button" class="menu-button danger">Concede Game</button>
					</div>
				</div>
			</div>

			<!-- Concede Confirmation Modal -->
			<div id="concede-confirm-modal" class="modal">
				<div class="modal-content small-modal">
					<div class="modal-header">
						<h3>Confirm Concede</h3>
						<span class="close-modal">&times;</span>
					</div>
					<div class="modal-body">
						<p>Are you sure you want to concede the game?</p>
						<div class="button-row">
							<button id="confirm-concede" class="menu-button danger">Yes, Concede</button>
							<button id="cancel-concede" class="menu-button">Cancel</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Player's cards -->
		<div class="player-frame" id="player-area">
			<div class="player-controls-row">
			</div>
			<div class="card-container" id="player-cards">
				<!-- Cards will be generated here by JavaScript -->
			</div>
		</div>

		<!-- Remove the timers from their original locations -->
		<!-- Keep status frame but hidden -->
		<div id="status-frame" style="display: none;">
			<div id="status-message">Ready</div>
		</div>

		<!-- Keep your modals but ensure they're hidden by default -->
		<div class="modal" id="multiplayer-modal" style="display: none;">
			<div class="modal-content">
				<h2>Multiplayer Options</h2>
				<button id="create-game-btn">Create New Game</button>
				<div class="separator">OR</div>
				<div class="join-game-form">
					<input type="text" id="game-id-input" placeholder="Enter Game ID">
					<button id="join-game-btn">Join Game</button>
				</div>
				<button id="cancel-multiplayer" class="cancel-button">Cancel</button>
			</div>
		</div>

		<div class="modal" id="waiting-modal" style="display: none;">
			<div class="modal-content">
				<h2>Waiting for opponent</h2>
				<p>Share this game link with a friend to play:</p>
				<div class="copy-link-container">
					<input type="text" id="game-link" readonly>
					<button id="copy-link">Copy Link</button>
				</div>
				<button id="cancel-waiting" class="cancel-button"
					onclick="console.log('INLINE: Cancel waiting clicked'); document.getElementById('waiting-modal').style.display = 'none';">Cancel</button>
			</div>
		</div>
	</div>

	<!-- External libraries -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/stockfish@11/src/stockfish.js"></script>
	<script src="lib/chess.js"></script>
	<script src="lib/chessboard.js"></script>

	<!-- App scripts -->
	<script src="js/deck.js"></script>
	<script src="js/board.js"></script>
	<script src="js/ui.js"></script>
	<script src="js/socket.js"></script>
	<script src="js/stockfish.js"></script>
	<script src="js/game.js"></script>
	<script src="js/app.js"></script>
</body>

</html>